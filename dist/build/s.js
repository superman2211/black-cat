"use strict";(()=>{var T=Math,jt=T.floor,Et=T.ceil,g=T.round,at=T.min,xt=T.max,Jt=T.hypot,O=T.abs,ct=T.random,ys=T.atan2,bs=T.cos,ws=T.sin,rn=T.PI,zt=rn*2,At=Number.MAX_VALUE,ot=(t,o,e)=>at(o,xt(t,e)),ft=(t,o,e)=>t+e*(o-t),z=(t,o)=>ft(t,o,ct()),J=t=>ct()<t;function E(t){return t[g(z(0,t.length-1))]}function ht(t,o){let e=o.reduce((s,a)=>s+a,0),n=ct()*e,r=0;for(let s=0;s<t.length;s++)if(r+=o[s],n<r)return t[s];return t[0]}var Ft=document,Gt="ontouchstart"in window;var sn="canvas",P=t=>t.getContext("2d"),it=()=>Ft.createElement(sn),ko=()=>P(it()),Ut=t=>t.canvas;var So=(t,o)=>Ut(t).width=o,_o=(t,o)=>Ut(t).height=o;var L=(t,o,e,n)=>t.drawImage(o,g(e),g(n));var Bt=()=>performance.now(),Co=t=>JSON.parse(JSON.stringify(t));async function Mo(t){return new Promise(o=>{setTimeout(o,t)})}var dt=t=>{let o=t>>24&255,e=t>>16&255,n=t>>8&255,r=t&255;return`rgba(${e}, ${n}, ${r}, ${o/255})`},vo=(t,o,e,n,r,s,a)=>{let f=t.createLinearGradient(o,e,n,r);return f.addColorStop(0,dt(s)),f.addColorStop(1,dt(a)),f};var Eo=(t,o,e,n)=>{let r=it(),s=P(r),a=b[e[0]];r.width=t,r.height=o;let f=Et(t/a.width),c=Et(o/a.height);for(let l=0;l<f;l++)for(let m=0;m<c;m++)a=b[ht(e,n)],s.drawImage(a,l*a.width,m*a.height);return r},Ao=(t,o,e)=>{let n=it(),r=P(n);n.width=t,n.height=o;let s=b[e],a=Et(t/s.width),f=Et(o/s.height);for(let c=0;c<a;c++)for(let l=0;l<f;l++)r.drawImage(s,c*s.width,l*s.height);return n},Bo=(t,o)=>{for(let e=0;e<t.length;e+=3){let n=t[e],r=t[e+1],s=t[e+2],a=b[n];L(o,a,r,s)}},Ot=(t,o,e,n,r,s,a)=>{t.fillStyle=vo(t,o,e,o,e+r,s,a),t.fillRect(o,e,n,r)};var Qt=(t,o)=>{let e=P(t),n=t.width,r=t.height,s=e.getImageData(0,0,n,r),a=s.data,f=0;for(;f<a.length;){let c=a.slice(f,f+4);o(c),a.set(c,f),f+=4}e.putImageData(s,0,0)},Nt=t=>{var o=it(),e=P(o);return o.width=t.width,o.height=t.height,e.drawImage(t,0,0),o};var Do=(t,o,e)=>{Qt(t,n=>{let r=an(n),s=o.indexOf(r);if(s!=-1){let a=e[s];cn(a,n)}})},Io=new Uint32Array(1),an=t=>{let o=t[0],e=t[1],n=t[2],r=t[3];return Io[0]=r<<24|o<<16|e<<8|n,Io[0]},cn=(t,o)=>{let e=t>>24&255,n=t>>16&255,r=t>>8&255,s=t&255;o[0]=n,o[1]=r,o[2]=s,o[3]=e},Dt=(t,o)=>{let e=P(o),n=t/2,r=e.getImageData(0,0,o.width,o.height),s=r.data,a=0;for(;a<s.length;){let f=s[a],c=s[a+1],l=s[a+2];s[a]=f-n+t*ct(),s[a+1]=c-n+t*ct(),s[a+2]=l-n+t*ct(),a+=4}e.putImageData(r,0,0)};var b=[],Zt={},fn={},Rt=t=>{let o=b.length;return b.push(t),o},gt=(t,o)=>{if(t==-1)return-1;let e=`${t}_${o}`;if(!Zt[e]){let n=o>>24&255,r=o>>16&255,s=o>>8&255,a=o&255,f=Nt(b[t]);Qt(f,c=>{c[0]=r,c[1]=s,c[2]=a,c[3]&&(c[3]=n)}),Zt[e]=Rt(f)}return Zt[e]},Xt=t=>{if(!fn[t]){let o=b[t];Dt(10,o)}};var Ro=[[[.6,0,100,,,.2,1,.5,,-10,,,,3,,,,10],[.7,0,110,,,.2,2,.1,,,,,,,,,,,.1,.4],[1.3,0,300,,,0,4,3,,,300,,,1,,,,.3,.2],[,0,,,.13,.7,2,.2,,,,,.04,.3,,.02,1,,.3,.1],[3,0,60,,,,3,.2,,,,.5,,.6,1,.05],[,0],[,0]],[[[,-.1,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,.1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,1,1],[1,.1,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,3,,15,,3,,15,,],[3,.3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,.1,1,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,1,1],[1,.1,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,4,,16,16,4,,16,16,4,,16,,4,,16,16,4,,16,16,4,,16,16,3,,15,15,3,,15,15],[3,.4,,,,,20,,,,,,23,,,,,,25,,,,,,27,,,,,,25,,,,27,,,,,,,,,,,,,,,,28,,27,,,,25,,,,27,,,,25,,]]],[0,0,1,1],,];var Po=(...t)=>to(Wo(...t)),to=(...t)=>{let o=N.createBufferSource(),e=N.createBuffer(t.length,t[0].length,W);return t.map((n,r)=>e.getChannelData(r).set(n)),o.buffer=e,o},Wo=(t=1,o=.05,e=220,n=0,r=0,s=.1,a=0,f=1,c=0,l=0,m=0,x=0,d=0,C=0,I=0,R=0,k=0,q=1,Z=0,_t=0)=>{let A=2*Math.PI,Ct=c*=500*A/W**2,Mt=(0<I?1:-1)*A/4,lt=e*=(1+2*o*Math.random()-o)*A/W,st=[],U=0,vt=0,w=0,j=1,Yt=0,nn=0,tt=0,It,mt;for(n=99+W*n,Z*=W,r*=W,s*=W,k*=W,l*=500*A/W**3,I*=A/W,m*=A/W,x*=W,d=W*d|0,mt=n+Z+r+s+k|0;w<mt;st[w++]=tt)++nn%(100*R|0)||(tt=a?1<a?2<a?3<a?Math.sin((U%A)**3):Math.max(Math.min(Math.tan(U),1),-1):1-(2*U/A%2+2)%2:1-4*Math.abs(Math.round(U/A)-U/A):Math.sin(U),tt=(d?1-_t+_t*Math.sin(2*Math.PI*w/d):1)*(0<tt?1:-1)*Math.abs(tt)**f*t*pn*(w<n?w/n:w<n+Z?1-(w-n)/Z*(1-q):w<n+Z+r?q:w<mt-k?(mt-w-k)/s*q:0),tt=k?tt/2+(k>w?0:(w<mt-k?1:(mt-w)/k)*st[w-k|0]/2):tt),It=(e+=c+=l)*Math.sin(vt*I-Mt),U+=It-It*C*(1-1e9*(Math.sin(w)+1)%2),vt+=It-It*C*(1-1e9*(Math.sin(w)**2+1)%2),j&&++j>x&&(e+=m,lt+=m,j=0),!d||++Yt%d||(e=lt,c=Ct,j=j||1);return st},pn=.3,W=44100,N=new(window.AudioContext||webkitAudioContext),Ho=(t,o,e,n=125)=>{let r,s,a,f,c,l,m,x,d,C,I,R,k,q,Z=0,_t,A=[],Ct=[],Mt=[],lt=0,st=0,U=1,vt={},w=44100/n*60>>2;for(;U;lt++)A=[U=x=I=k=0],e.map((j,Yt)=>{for(m=o[j][lt]||[0,0,0],U|=!!o[j][lt],_t=k+(o[j][0].length-2-!x)*w,q=Yt==e.length-1,s=2,f=k;s<m.length+q;x=++s){for(c=m[s],d=s==m.length+q-1&&q||C!=(m[0]||0)|c|0,a=0;a<w&&x;a++>w-99&&d?R+=(R<1)/99:0)l=(1-R)*A[Z++]/2||0,Ct[f]=(Ct[f]||0)-l*st+l,Mt[f]=(Mt[f++]||0)+l*st+l;c&&(R=c%1,st=m[1]||0,(c|=0)&&(A=vt[[C=m[Z=0]||0,c]]=vt[[C,c]]||(r=[...t[C]],r[2]=(r[2]||220)*2**((c-12)/12),c>0?Wo(...r):[])))}k=_t});return[Ct,Mt]};var V=N.createGain(),K=N.createGain();V.gain.value=.3;K.gain.value=.6;var ln=[,,418,.01,.01,.03,4,2.1,-1,,,,,.2,,.2,,.67,.03,,107],mn=[,1,48,,.04,.01,4,1.6,1,-26,300,,,1.3,,.1,,.9,.03];var oo=(t=!1)=>{(t||N.state==="suspended")&&N.resume().catch()},To=async()=>{let t=await xn(Ro),o=to(...t);o.connect(V),o.loop=!0,o.start(),V.connect(N.destination),N.resume()},xn=async t=>(await Mo(50),Ho(...t)),zo=t=>{let o=Po(...t);o.connect(K),o.loop=!1,K.connect(N.destination),o.start()};var Fo=()=>zo(ln),Go=()=>zo(mn);var h;(function(t){t.H=o=>{let e=t.N(o);e>0&&(o.x/=e,o.y/=e)},t.N=o=>Jt(o.x,o.y),t.T=(o,e)=>Jt(o.x-e.x,o.y-e.y),t.xt=(o,e)=>({x:o.x+e.x,y:o.y+e.y}),t.v=(o,e)=>({x:o.x-e.x,y:o.y-e.y}),t.dt=(o,e)=>({x:o.x*e,y:o.y*e})})(h||(h={}));var Pt=Bt(),B=0,Uo=()=>{let t=Pt;Pt=Bt(),B=(Pt-t)/1e3};var ut=t=>{let o=0;for(let e of t)o+=e.o;return o},$t=(t,o)=>{let e=0,n=ut(t);o%=n;for(let r=0;r<t.length;r++){let s=t[r];if(e+=s.o,o<=e)return s.t}return 0},eo=(t,o)=>{let e=ut(t);return o>=e};var yt=[],Oo={i:[{t:63,o:.1},{t:64,o:.1},{t:65,o:.1}],c:{x:16,y:16}},No={i:[{t:66,o:.1},{t:67,o:.2},{t:68,o:.2}],c:{x:8,y:8}},Xo={i:[{t:69,o:.1},{t:70,o:.2},{t:71,o:.2}],c:{x:8,y:8}},_n=t=>{let o=yt.indexOf(t);o!=-1&&yt.splice(o,1)},$o=(t,o)=>{yt.push({i:t.i,l:0,f:{t:0,x:o.x-t.c.x,y:o.y-t.c.y}})},qo=()=>{for(let t of yt){let o=ut(t.i);t.l+=B,t.l>o?_n(t):t.f.t=$t(t.i,t.l)}};var X=[],Lo=t=>{let o=X.indexOf(t);o!=-1&&X.splice(o,1)},Vo=()=>{X.splice(0,X.length)};var no,H=()=>no,Ko=t=>{no=t;for(let o of no.X)o.f.x=o.e.x-o.c.x,o.f.y=o.e.y-o.c.y,o.g&&(o.g.x=o.e.x-o.c.x,o.g.y=o.e.y-o.c.y*o.g.z),X.push(o)},Yo=()=>{let t=H(),o=b[t.tt.t];-t.m.x>0&&(t.m.x=0),-t.m.x+o.width<M&&(t.m.x=o.width-M),-t.m.y>0&&(t.m.y=0),-t.m.y+o.height<$&&(t.m.y=o.height-$)};var v=[],qt=t=>{let o={u:t,d:0,r:{n:{x:0,y:0},b:!1},p:t.p,C:1,e:{x:0,y:0},I:{x:0,y:0},l:0,f:{t:0},g:{t:0},E:0,$:0,F:null};return v.push(o),X.push(o),o},Cn=t=>{let o=v.indexOf(t);o!=-1&&v.splice(o,1),Lo(t)},Jo=()=>{v.splice(0,v.length)},Qo=()=>{let t=H();for(let o of v.values())o.e.x=ot(t.s.x,t.s.x+t.s.w,o.e.x),o.e.y=ot(t.s.y,t.s.y+t.s.h,o.e.y)},Zo=()=>{for(let t of v.values())Mn(t)},Mn=t=>{let o=null,e=t.u,n=e.S;switch(t.d){case 0:o=n.ot,(t.r.n.x!=0||t.r.n.y!=0)&&(t.d=1,t.l=0),jo(t);break;case 1:t.r.n.x==0&&t.r.n.y==0?(t.d=0,t.l=0):O(t.r.n.x)>O(t.r.n.y)?o=n.et:o=n.nt,h.H(t.r.n),t.e.x+=t.r.n.x*e._*B,t.e.y+=t.r.n.y*e._*B,jo(t);break;case 2:o=t.i||n.q,eo(o,t.l)&&(t.d=0,t.l=0,t.i=void 0);break;case 3:o=t.i||n.L,eo(o,t.l)&&(t.d=0,t.l=0,t.i=void 0);break;case 4:o=t.i||n.V,ut(o)<=t.l+B&&(Cn(t),o=null);break}t.e.x+=t.I.x*B,t.e.y+=t.I.y*B,t.I.x*=.9,t.I.y*=.9,t.r.n.x>0?t.C=1:t.r.n.x<0&&(t.C=-1),o&&(t.l+=B,t.f.t=$t(o,t.l),t.f.A=t.C<0,t.g.t=gt(t.f.t,1426063360),t.g.A=t.f.A),t.E=0,t.$!=t.f.t&&(t.$=t.f.t,t.E=e.R[t.$]||0)},te=()=>{for(let t of v){if(t.p<=0||!t.E)continue;let o=null,e=At,n=At;for(let r of v)if(!(r.p<=0||r.i==r.u.S.P)&&t.u.K!=r.u.K){let s=r.e.x-t.e.x;if(s*t.C>0){let a=O(s),f=O(t.e.y-r.e.y);a<25&&f<10&&(!o||e>a||n>f)&&(o=r,e=a,n=f)}}if(o){o.p-=t.E,o.I.x+=t.C*t.E/100*300,t.I.x+=t.C*10;let r=t.E>=20?(Go(),Oo):(Fo(),J(.5)?Xo:No);$o(r,h.xt(o.e,{x:z(-3,3),y:z(-14,-18)}));let s=o.u.S;o.p>0?(o.d=3,o.l=0,o.i=ht([s.L,s.rt,s.P],[10,10,1])):(o.d=4,o.i=E([s.V,s.st]),o.l=0)}}},oe=()=>{for(let t of v.values())vn(t)},vn=t=>{let o=t.u;t.f.x=t.e.x-o.c.x,t.f.y=t.e.y-o.c.y,t.g.z=.4,t.g.x=t.e.x-o.c.x+0,t.g.y=t.e.y-o.c.y*t.g.z},jo=t=>{if(t.r.b){let o=t.u.S;t.d=2,t.i=E([o.q,o.at,o.ct]),t.l=0}};var lr=()=>{let t=[];return t[33]=61,t[35]=0,t[46]=62,t[47]=-1,t.push(25,26,27,28,29,30,31,32,33,34),t[64]=0,t.push(35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60),t},ro=lr(),ee=t=>{if(!1)throw`symbol not found ${t} char ${String.fromCharCode(t)}`;return ro[t]};var Q=(t,o)=>{if(o.t==-1)return;t.save();let e=b[o.t],n=1,r=0,s=0,a=o.z||1,f=g(o.x||0),c=g(o.y||0);o.A&&(n=-1,f+=e.width),o.Y&&(a=-1,c+=e.height),t.transform(n,r,s,a,f,c),L(t,e,0,0),t.restore()},ne=(t,o)=>{for(let e of o)Q(t,e)};var i={B:-1,n:{x:0,y:0},W:30,ht:10,k:{x:0,y:0},D:-1,b:{x:0,y:0},ft:30},re=20,Lt={x:60,y:60},se=()=>{if(!Gt)return;if(i.n.x=Lt.x,i.n.y=y.height-Lt.y,i.b.x=y.width-Lt.x,i.b.y=y.height-Lt.y,i.B==-1){i.k.x=i.n.x,i.k.y=i.n.y;for(let e in D){let n=D[e];if(n.j&&h.T(i.n,n)<i.W+re){i.B=Number(e),i.k.x=n.x,i.k.y=n.y;break}}}else{let e=D[i.B];e?(i.k.x=e.x,i.k.y=e.y):i.B=-1}let t=h.v(i.k,i.n);if(h.N(t)>i.W&&(h.H(t),i.k.x=i.n.x+t.x*i.W,i.k.y=i.n.y+t.y*i.W),i.D==-1)for(let e in D){let n=D[e];n.j&&h.T(i.b,n)<i.ft+re&&(i.D=Number(e))}else D[i.D]||(i.D=-1)};var u={a:{x:0,y:0},J:!1},mr=12,xr=13,hr=14,dr=15,gr=0,ur=1,yr=2,br=3,ae=()=>{if("getGamepads"in navigator){u.a.x=0,u.a.y=0,u.J=!1;let t=navigator.getGamepads();for(let o of t)if(o&&o.connected){o.axes.length>=2&&(u.a.x+=o.axes[0],u.a.y+=o.axes[1]),o.axes.length>=4&&(u.a.x+=o.axes[2],u.a.y+=o.axes[3]);for(let e=0;e<o.buttons.length;e++)if(o.buttons[e].pressed)switch(e){case mr:u.a.y-=1;break;case xr:u.a.y+=1;break;case hr:u.a.x-=1;break;case dr:u.a.x+=1;break;case gr:case ur:case yr:case br:u.J=!0;break}}O(u.a.x)<.2&&(u.a.x=0),O(u.a.y)<.2&&(u.a.y=0),h.H(u.a)}};var F=0,de=t=>F=t,Er={K:!1,p:1e3,_:40,c:{x:16,y:29},S:{ot:[{t:72,o:.2},{t:73,o:.2},{t:74,o:.2},{t:73,o:.2},{t:72,o:.2},{t:75,o:.2}],et:[{t:72,o:.1},{t:76,o:.1},{t:77,o:.1},{t:76,o:.1}],nt:[{t:83,o:.1},{t:84,o:.1},{t:83,o:.1},{t:85,o:.1}],q:[{t:72,o:.05},{t:80,o:.1}],at:[{t:80,o:.1},{t:81,o:.1},{t:82,o:.1},{t:81,o:.1}],ct:[{t:72,o:.05},{t:78,o:.05},{t:79,o:.1},{t:78,o:.1}],L:[{t:86,o:.5}],rt:[{t:87,o:.5}],P:[{t:87,o:.3},{t:88,o:.3},{t:89,o:1},{t:90,o:.3},{t:91,o:.3},{t:72,o:.3}],V:[{t:72,o:.1},{t:87,o:.3},{t:88,o:.3},{t:89,o:1},{t:-1,o:.2},{t:89,o:.2},{t:-1,o:.2},{t:89,o:.2},{t:-1,o:.2},{t:89,o:.2}],st:[{t:72,o:1}],it:[]},R:{80:10,82:20,79:30}},S,ge=()=>{S=qt(Er)},bt=()=>S,ue=()=>{if(S&&!(S.p<=0)){if(S.r.n.x=0,S.r.n.y=0,S.r.b=!1,(_(37)||_(65))&&(S.r.n.x=-1,F=0),(_(39)||_(68))&&(S.r.n.x=1,F=0),(_(38)||_(87))&&(S.r.n.y=-1,F=0),(_(40)||_(83))&&(S.r.n.y=1,F=0),(_(32)||_(88)||_(90))&&(S.r.b=!0,F=0),i.B!=-1){let t=h.v(i.k,i.n);S.r.n.x=t.x,S.r.n.y=t.y,F=1}i.D!=-1&&(S.r.b=!0,F=1),(u.a.x!=0||u.a.y!=0)&&(S.r.n.x=u.a.x,S.r.n.y=u.a.y,F=2),u.J&&(S.r.b=!0,F=2)}};var y=document.getElementById("c");y.style.imageRendering="pixelated";var p=P(y),M=200,$=200,nt={x:0,y:0},wt=1,ye=()=>{let t=window.innerWidth,o=window.innerHeight;wt=at(t/M,o/$),y.width=xt(M,t/wt),y.height=xt($,o/wt),y.style.width=`${t}px`,y.style.height=`${o}px`,nt.x=jt((y.width-M)/2),nt.y=jt((y.height-$)/2)},be=()=>{p.clearRect(0,0,y.width,y.height);let t=H();p.save(),p.setTransform(1,0,0,1,nt.x,nt.y),p.save(),p.translate(g(-t.m.x),g(-t.m.y)),Q(p,t.tt),p.shadowBlur=2,p.shadowColor="black";for(let o of v)Q(p,o.g);for(let o of t.X)o.g&&Q(p,o.g);p.shadowBlur=0,X.sort((o,e)=>o.e.y==e.e.y?e.e.x-o.e.x:o.e.y-e.e.y);for(let o of X)Q(p,o.f);for(let o of yt)Q(p,o.f);p.restore(),p.fillStyle="black",y.width<y.height?(p.fillRect(0,-nt.y,M,nt.y),p.fillRect(0,$,M,$)):(p.fillRect(-nt.x,0,nt.x,M),p.fillRect(M,0,M,$)),p.restore(),Ar();for(let o in D){let e=D[o];p.fillStyle="red",p.fillRect(e.x,e.y,10,10)}F==1&&(p.strokeStyle=dt(2583691263),p.lineWidth=2,p.beginPath(),p.arc(g(i.n.x),g(i.n.y),i.W,0,zt),p.closePath(),p.stroke(),i.B!=-1&&(p.beginPath(),p.arc(g(i.k.x),g(i.k.y),i.ht,0,zt),p.closePath(),p.stroke()),p.strokeStyle=dt(2583625728),p.lineWidth=2,p.beginPath(),p.arc(g(i.b.x),g(i.b.y),i.ft,0,zt),p.closePath(),p.stroke(),i.D!=-1&&(p.fillStyle=dt(872349696),p.fill()))},Ar=()=>{if(!1){p.shadowBlur=3,p.shadowColor="black";let t=(Bt()-Pt).toFixed(),o=(1/B).toFixed();co(3,3,`FPS ${o} TIME ${t}`,4294967295);let e=g(V.gain.value*100),n=g(K.gain.value*100);co(3,19,`MUSIC ${e}`,4278255615),co(3,35,`EFFECT ${n}`,4294902015),p.shadowBlur=0}},co=(t,o,e,n)=>{for(let r=0;r<e.length;r++){let s=e[r].toUpperCase().charCodeAt(0),a=ee(s);if(a!==void 0){let f=gt(a,n),c=b[f];c!==void 0&&L(p,c,t+r*8,o)}}};var D={},fo={},we=!1,ke=()=>{Ft.onkeydown=o=>{oo(),we=!0,fo[o.keyCode]=!0,o.preventDefault()},Ft.onkeyup=o=>{we=!1,Br(o.keyCode),o.preventDefault()},y.onmousedown=o=>{oo(),o.preventDefault()};let t=(o,e)=>{let n=o.changedTouches;for(let r=0;r<n.length;r++){let{clientX:s,clientY:a,identifier:f}=n[r];e(f,{x:s/wt,y:a/wt,j:!1})}o.preventDefault()};y.ontouchstart=o=>{de(1),t(o,(e,n)=>{D[e]=n,n.j=!0})},y.ontouchmove=o=>{t(o,(e,n)=>{D[e]=n})},y.ontouchend=o=>{t(o,(e,n)=>{delete D[e]})},y.ontouchcancel=o=>{t(o,(e,n)=>{delete D[e]})}},_=t=>fo[t],Br=t=>delete fo[t];var Za=1*(Math.exp(.5)-1);var Se,_e=[];Gt||Dr();function Dr(){Se||(Se=new AudioContext,!1)}async function Ce(){let o=await(await fetch("r")).arrayBuffer(),e=new Uint8Array(o),n=0,r=e[n++]*4,s=e.slice(n,n+r);n+=r;let a=e[n++];for(;a--;){let c=e[n++],l=e[n++],m=c*l,x=e.slice(n,n+m);n+=m;let d=ko();So(d,c),_o(d,l);let C=d.getImageData(0,0,c,l);for(let I=0;I<x.length;I++){let R=x[I]<<2;C.data.set(s.slice(R,R+4),I<<2)}d.putImageData(C,0,0),b.push(Ut(d))}let f=e[n++];for(;f--;){let c=e[n++];_e.push(o.slice(n,n+c)),n+=c}}var Re=10,Nr=18,Xr=5,$r=50,qr=20,Y=[],G=[],Pe=[4278190080,4294939392,4287898002,4289362242,4284354049,4290735454,4278215936,4278217323,4278261885],Lr={K:!0,p:100,_:20,c:{x:16,y:31},S:{ot:[{t:92,o:.3},{t:93,o:.3},{t:92,o:.3},{t:94,o:.3},{t:95,o:.3},{t:94,o:.3}],et:[{t:92,o:.2},{t:96,o:.2},{t:92,o:.2},{t:97,o:.2}],nt:[{t:92,o:.2},{t:101,o:.2},{t:92,o:.2},{t:102,o:.2}],q:[{t:92,o:.2},{t:98,o:.2}],at:[{t:98,o:.2},{t:99,o:.2},{t:100,o:.2},{t:99,o:.2}],ct:[{t:92,o:.2},{t:103,o:.2},{t:104,o:.2},{t:103,o:.2}],L:[{t:106,o:.5},{t:105,o:.3}],rt:[{t:110,o:.5},{t:109,o:.3}],P:[{t:105,o:.2},{t:106,o:.5},{t:107,o:1},{t:108,o:.3},{t:109,o:.2}],V:[{t:110,o:.2},{t:111,o:.2},{t:112,o:.2},{t:113,o:1},{t:-1,o:.2},{t:113,o:.2},{t:-1,o:.2},{t:113,o:.2},{t:-1,o:.2},{t:113,o:.2}],st:[{t:105,o:.2},{t:106,o:.5},{t:107,o:1},{t:-1,o:.2},{t:107,o:.2},{t:-1,o:.2},{t:107,o:.2},{t:-1,o:.2},{t:107,o:.2}],it:[{t:114,o:0}]},R:{98:5,100:10,104:20}},kt=[],We=()=>E(kt),He=()=>{mo([4278190080,4294939392,4289374890,4294967295,4294967295,4294939392,4284900966,4284900966,4278190080]),mo([4278190080,4294939392,4279308561,4279308561,4279308561,4294939392,4279308561,4279308561,4278190080]);let t=[4278781958,4288375884,4289288514],o=[4293378730,4291399795,4292983441,4290545251,4283776301],e=[4281545523,4281223767,4278211731],n=[4278190131,4286151563,4278211731,4278206244],r=[4278190080,4293651435,4280749057];for(let s=0;s<10;s++){let a=E(t),f=E(o),c=E(e),l=E(n),m=E(r),x=c,d=c,C=c,I=f,R=l,k=l;J(.1)&&(a=f),J(.5)&&(C=f),J(.2)&&(I=4279308561),J(.5)&&(k=f),mo([a,f,x,d,C,I,R,k,m])}},mo=t=>{let o=Co(Lr);o._=z(10,20);let e=kt.length,n=o.S;for(let r in n){let s=n[r];Vr(s,Pe,t,e)}for(let r in o.R){let s=Te(Number(r),Pe,t,e);o.R[s]=o.R[r]}kt.push(o)},Vr=(t,o,e,n)=>{for(let r of t)r.t=Te(r.t,o,e,n)},xo={},Te=(t,o,e,n)=>{if(t==-1)return-1;let r=`${t}_${n}`;if(!xo[r]){let s=Nt(b[t]);Do(s,o,e),xo[r]=Rt(s)}return xo[r]},ze=t=>{let o=qt(t),e={M:{G:1,U:2},pt:0,Q:0,O:!1};return o.F=e,G.push(o),o};var Kr=t=>{let o=G.indexOf(t);o!=-1&&G.splice(o,1)},Fe=t=>{let o=Y.indexOf(t);o!=-1&&Y.splice(o,1)},Ge=()=>{let t=bt();for(let o of G){if(o.p<=0||!v.includes(o)){Kr(o),Fe(o);continue}o.r.n.x=0,o.r.n.y=0,o.r.b=!1;let e=o.F;e.O||(e.Q+=B,e.Q>e.pt&&(e.Q=0,e.pt=z(e.M.G,e.M.U),e.O=!0))}jr(t);for(let o of G){if(o.p<=0||o.i==o.u.S.P||o.d!=1&&o.d!=0||t.p<=0||t.i==t.u.S.P)return;if(Jr(o,t)){let n=o.F;if(n.O){n.O=!1;let r=h.v(t.e,o.e);o.C=ot(-1,1,r.x),o.r.b=!0,Y.includes(o)||Y.push(o)}}else{let n=!1;if(Y.includes(o)?n=!0:Qr(o,t)||(n=!0),n){let r=h.v(t.e,o.e);h.H(r),o.r.n.x=r.x,o.r.n.y=r.y}}}Yr()},Yr=()=>{for(let t=0;t<G.length;t++){let o=G[t];if(o.d==1||o.d==0)for(let e=t+1;e<G.length;e++){let n=G[e];if(n.d==1||n.d==0){let r=h.v(n.e,o.e);r.x==0&&r.y==0&&(r.x=1);let s=h.N(r);if(s<Re){let a=(Re-s)/s;o.e.x-=r.x*a,o.e.y-=r.y*a,n.e.x+=r.x*a,n.e.y+=r.y*a}}}}},ho=1,Ue=t=>ho=t,jr=t=>{for(;Y.length<ho;){let o=At,e;for(let n of G)if((n.d==0||n.d==1)&&n.p>0&&!Y.includes(n)){let r=h.T(t.e,n.e);o>r&&(o=r,e=n)}if(e)Y.push(e);else break}for(;Y.length>ho;){let o,e=0;for(let n of Y){let r=h.T(n.e,t.e);e<r&&(e=r,o=n)}o&&Fe(o)}},Jr=(t,o)=>Oe(t,o,Nr,Xr),Qr=(t,o)=>Oe(t,o,$r,qr),Oe=(t,o,e,n)=>{let r=h.v(o.e,t.e);return O(r.x)<e&&O(r.y)<n};var Ye=()=>{let n=xs(400,150),r=hs(400,95),s=it(),a=P(s);s.width=400,s.height=245,L(a,r,0,0),L(a,n,0,95);let f=Rt(s),c=10,l=5;Xt(6);let m=[];for(let x=0;x<10;x++)uo(m,90+x*21,120);uo(m,84,114),uo(m,273,114),Xt(7);for(let x=0;x<10;x++)ls(m,100+x*20,130);Xt(0);for(let x=0;x<6;x++)ms(m,80+x*45,240);return{s:{x:c,y:95+l,w:400-c*2,h:150-l*2},tt:{t:f},m:{x:0,y:0},X:m}},uo=(t,o,e)=>{t.push({f:{t:6},e:{x:o,y:e},c:{x:16,y:32},s:{x:-16,y:-10,w:32,h:12}})},ls=(t,o,e)=>{t.push({f:{t:7},e:{x:o,y:e},c:{x:16,y:32},s:{x:-6,y:-7,w:12,h:10},g:{t:gt(7,1426063360),z:.4}})},ms=(t,o,e)=>{if(t.push({f:{t:0},e:{x:o,y:e},c:{x:32,y:64},s:{x:-34,y:-22,w:68,h:25}}),J(.9)){let n=We(),r=g(z(0,2));t.push({f:{t:n.S.it[0].t},e:{x:o+r,y:e+r},c:{x:12,y:50},s:{x:0,y:0,w:10,h:10}})}},xs=(t,o)=>{let e=Eo(t,o,[2,3,4,5],[3,2,1,1]),n=P(e),r=30;return n.fillStyle="black",n.fillRect(0,0,e.width,1),Ot(n,0,0,e.width,r,1996488704,0),Ot(n,0,e.height-r,e.width,r,0,1996488704),Dt(10,e),e},hs=(t,o)=>{let e=Ao(t,o,8),n=P(e),r=[9,10,11],s=[2,1,1],a=70;for(let c=0;c<t;c+=a)for(let l=0;l<t;l+=16){let m=b[ht(r,s)];L(n,m,c,l)}Bo([12,a-13,0,12,a*3-13,0,12,a*6-13,0,13,a*2-17,0,13,a*5-30,0],n),bo(n,89,30),bo(n,159,30),bo(n,229,30);let f=40;return Ot(n,0,e.height-f,e.width,f,0,1996488704),Dt(10,e),e},yo=(t,o,e,n)=>{for(let r=0;r<6;r++){let s=E(o);Q(t,{t:s,x:r*7+e,y:n})}};function bo(t,o,e){t.setTransform(1,0,0,1,o,e),ne(t,[{t:14},{t:15,y:16},{t:14,y:32,Y:!0},{t:16,x:16},{t:14,x:32,A:!0},{t:15,x:32,y:16,A:!0},{t:14,x:32,y:32,Y:!0,A:!0},{t:17,x:16,y:16},{t:16,x:16,y:32,Y:!0},{t:18,x:3,y:15},{t:18,x:16,y:15},{t:18,x:29,y:15},{t:18,x:3,y:30},{t:18,x:16,y:30},{t:18,x:29,y:30}]),yo(t,[19,20,21],-1,-1),yo(t,[21,22,20],-1,14),yo(t,[23],-1,28),t.resetTransform()}var Tt=[],je=()=>{Tt=[];let t=2,o=.5,e=3,n=10,r=100,s=300,a=30,f=40,c=1,l=5,m=12;for(let x=0;x<m;x++){let d=x/(m-1),C=ft(t,o,d),I=g(ft(e,n,d)),R=ft(r,s,d),k=ft(a,f,d),q=g(ft(c,l,d));Tt.push({lt:q,mt:[{M:{G:C,U:C*1.2},Z:I,u:-1,p:R,_:k}]})}Tt.push({lt:l,mt:[{M:{G:.1,U:.2},Z:3,u:1,p:s,_:f},{M:{G:.05,U:.1},Z:1,u:0,p:1e3,_:f}]})},ds=()=>{let e=[],n=H(),r=xt(n.s.x,n.m.x-30),s=n.m.x,a={x:r,y:n.s.y+32,w:s-r,h:n.s.h-32-64};a.w>0&&e.push(a);let f=n.m.x+M,c=at(n.s.x+n.s.w,n.m.x+M+30),l={x:f,y:n.s.y+32,w:c-f,h:n.s.h-32-64};return l.w>0&&e.push(l),e},Je=()=>{let t=ds();if(t.length&&!G.length&&Tt.length){let o=[...kt];o.shift(),o.shift();let e=Tt.shift();Ue(e.lt);for(let n of e.mt)for(let r=0;r<n.Z;r++){let s=n.u==-1?E(o):kt[n.u];s.p=n.p,s._=n._;let a=ze(s),f=a.F;f.M=n.M;let c=E(t);a.e.x=c.x+z(0,c.w),a.e.y=c.y+z(0,c.h)}}};var Qe=()=>{Jo(),Vo(),je(),Ko(Ye()),ge();let t=H(),o=bt();o.e.x=t.s.x+50,o.e.y=t.s.y+t.s.h/2};var Ze=()=>{let t=H(),o=bt();t.m.x=o.e.x-M/2,t.m.y=o.e.y-$/2};var tn=()=>{let t=H();for(let o of v)for(let e of t.X){let n=e.e.x+e.s.x,r=e.e.y+e.s.y,s=n+e.s.w,a=r+e.s.h,f=o.e.x-n,c=o.e.y-r,l=s-o.e.x,m=a-o.e.y;if(f>0&&c>0&&l>0&&m>0){let x=at(f,c,l,m);f==x&&(o.e.x-=f),c==x&&(o.e.y-=c),l==x&&(o.e.x+=l),m==x&&(o.e.y+=m)}}};var on=()=>{_(85)&&(V.gain.value-=.01),_(73)&&(V.gain.value+=.01),V.gain.value=ot(0,1,V.gain.value),_(74)&&(K.gain.value-=.01),_(75)&&(K.gain.value+=.01),K.gain.value=ot(0,1,K.gain.value)};!1;var en=()=>{Uo(),ye(),se(),ae(),Je(),ue(),Ge(),Zo(),tn(),te(),Qo(),qo(),Ze(),Yo(),oe(),be(),on(),requestAnimationFrame(en)};async function gs(){await Ce(),To(),ke(),He(),Qe(),en()}gs();})();
//# sourceMappingURL=s.js.map

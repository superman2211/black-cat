"use strict";(()=>{var P=Math,St=P.floor,rt=P.ceil,D=P.round,vt=P.min,ft=P.max,Ct=P.hypot,Mt=P.abs,B=P.random,Xn=P.atan2,oo=P.PI,Kn=oo*2,It=(t,e,o)=>vt(e,ft(t,o)),no=(t,e,o)=>t+o*(e-t),Tt=(t,e)=>no(t,e,B()),Gt=t=>B()<t;function Rt(t){return t[D(Tt(0,t.length-1))]}function lt(t,e){let o=e.reduce((a,i)=>a+i,0),n=B()*o,r=0;for(let a=0;a<t.length;a++)if(r+=e[a],n<r)return t[a];return t[0]}var pt=document,qt="ontouchstart"in window;var ao="canvas",_=t=>t.getContext("2d"),j=()=>pt.createElement(ao),Nt=()=>_(j()),dt=t=>t.canvas;var $t=(t,e)=>dt(t).width=e,Lt=(t,e)=>dt(t).height=e;var F=(t,e,o,n)=>t.drawImage(e,D(o),D(n));var it=()=>performance.now(),Vt=t=>JSON.parse(JSON.stringify(t));async function jt(t){return new Promise(e=>{setTimeout(e,t)})}var Xt=t=>{let e=t>>24&255,o=t>>16&255,n=t>>8&255,r=t&255;return`rgba(${o}, ${n}, ${r}, ${e/255})`},Kt=(t,e,o,n,r,a,i)=>{let c=t.createLinearGradient(e,o,n,r);return c.addColorStop(0,Xt(a)),c.addColorStop(1,Xt(i)),c};var Jt=(t,e,o,n)=>{let r=j(),a=_(r),i=f[o[0]];r.width=t,r.height=e;let c=rt(t/i.width),s=rt(e/i.height);for(let m=0;m<c;m++)for(let l=0;l<s;l++)i=f[lt(o,n)],a.drawImage(i,m*i.width,l*i.height);return r},Qt=(t,e,o)=>{let n=j(),r=_(n);n.width=t,n.height=e;let a=f[o],i=rt(t/a.width),c=rt(e/a.height);for(let s=0;s<i;s++)for(let m=0;m<c;m++)r.drawImage(a,s*a.width,m*a.height);return n},Zt=(t,e)=>{for(let o=0;o<t.length;o+=3){let n=t[o],r=t[o+1],a=t[o+2],i=f[n];F(e,i,r,a)}},xt=(t,e,o,n,r,a,i)=>{t.fillStyle=Kt(t,e,o,e,o+r,a,i),t.fillRect(e,o,n,r)};var Et=(t,e)=>{let o=_(t),n=t.width,r=t.height,a=o.getImageData(0,0,n,r),i=a.data,c=0;for(;c<i.length;){let s=i.slice(c,c+4);e(s),i.set(s,c),c+=4}o.putImageData(a,0,0)},gt=t=>{var e=j(),o=_(e);return e.width=t.width,e.height=t.height,o.drawImage(t,0,0),e};var te=(t,e,o)=>{Et(t,n=>{let r=ro(n),a=e.indexOf(r);if(a!=-1){let i=o[a];io(i,n)}})},Yt=new Uint32Array(1),ro=t=>{let e=t[0],o=t[1],n=t[2],r=t[3];return Yt[0]=r<<24|e<<16|o<<8|n,Yt[0]},io=(t,e)=>{let o=t>>24&255,n=t>>16&255,r=t>>8&255,a=t&255;e[0]=n,e[1]=r,e[2]=a,e[3]=o};var f=[],Pt={},st=t=>{let e=f.length;return f.push(t),e},ht=(t,e)=>{let o=`${t}_${e}`;if(!Pt[o]){let n=e>>24&255,r=e>>16&255,a=e>>8&255,i=e&255,c=gt(f[t]);Et(c,s=>{s[0]=r,s[1]=a,s[2]=i,s[3]&&(s[3]=n)}),Pt[o]=st(c)}return Pt[o]};var g;(function(t){t.normalize=e=>{let o=t.length(e);o>0&&(e.x/=o,e.y/=o)},t.length=e=>Ct(e.x,e.y),t.distance=(e,o)=>Ct(e.x-o.x,e.y-o.y),t.add=(e,o)=>({x:e.x+o.x,y:e.y+o.y}),t.subtract=(e,o)=>({x:e.x-o.x,y:e.y-o.y}),t.scale=(e,o)=>({x:e.x*o,y:e.y*o})})(g||(g={}));var ct=it(),v=0,ee=()=>{let t=ct;ct=it(),v=(ct-t)/1e3};var J=t=>{let e=0;for(let o of t)e+=o.time;return e},ut=(t,e)=>{let o=0,n=J(t);e%=n;for(let r=0;r<t.length;r++){let a=t[r];if(o+=a.time,e<=o)return a.image}return 0},mt=(t,e)=>{let o=J(t);return e>=o};var Q=[],oe={animation:[{image:48,time:.2},{image:49,time:.2},{image:50,time:.2}],offset:{x:16,y:16}},ne={animation:[{image:51,time:.2},{image:52,time:.2},{image:53,time:.2}],offset:{x:8,y:8}},ae={animation:[{image:54,time:.2},{image:55,time:.2},{image:56,time:.2}],offset:{x:8,y:8}},uo=t=>{let e=Q.indexOf(t);e!=-1&&Q.splice(e,1)},yt=(t,e)=>{Q.push({animation:t.animation,animationTime:0,sprite:{image:0,x:e.x-t.offset.x,y:e.y-t.offset.y}})},re=()=>{for(let t of Q){let e=J(t.animation);t.animationTime+=v,t.animationTime>e?uo(t):t.sprite.image=ut(t.animation,t.animationTime)}};var ie,W=()=>ie,se=t=>ie=t,ce=()=>{let t=W(),e=f[t.back.image];-t.camera.x>0&&(t.camera.x=0),-t.camera.x+e.width<k&&(t.camera.x=e.width-k),-t.camera.y>0&&(t.camera.y=0),-t.camera.y+e.height<M&&(t.camera.y=e.height-M)};var d=[],wt=t=>{let e={config:t,state:0,controller:{move:{x:0,y:0},hand:!1,leg:!1,cross:!1},health:t.health,direction:1,position:{x:0,y:0},speed:{x:0,y:0},animationTime:0,sprite:{image:0},shadow:{image:0},damage:0,frame:0};return d.push(e),e},yo=t=>{let e=d.indexOf(t);e!=-1&&d.splice(e,1)},fe=()=>{d.splice(0,d.length)},le=()=>{let t=W();for(let e of d.values())e.position.x=It(t.bounds.x,t.bounds.x+t.bounds.w,e.position.x),e.position.y=It(t.bounds.y,t.bounds.y+t.bounds.h,e.position.y)},pe=()=>{for(let t of d.values())wo(t)},wo=t=>{let e=null,o=t.config,n=o.animations;switch(t.state){case 0:e=n.stand,(t.controller.move.x!=0||t.controller.move.y!=0)&&(t.state=1,t.animationTime=0),me(t);break;case 1:t.controller.move.x==0&&t.controller.move.y==0?(t.state=0,t.animationTime=0):Mt(t.controller.move.x)>Mt(t.controller.move.y)?e=n.walkH:e=n.walkV,g.normalize(t.controller.move),t.position.x+=t.controller.move.x*o.walkSpeed*v,t.position.y+=t.controller.move.y*o.walkSpeed*v,me(t);break;case 2:e=n.jab,mt(e,t.animationTime)&&(t.controller.hand?t.state=3:t.state=0,t.animationTime=0);break;case 3:e=n.cross,mt(e,t.animationTime)&&(t.controller.hand||(t.state=0,t.animationTime=0));break;case 4:e=n.kick,mt(e,t.animationTime)&&(t.state=0,t.animationTime=0);break;case 5:e=t.animation||n.damage1,mt(e,t.animationTime)&&(t.state=0,t.animationTime=0,t.animation=void 0);break;case 6:e=t.animation||n.dead1,J(e)<=t.animationTime+v&&(yo(t),e=null);break}t.position.x+=t.speed.x*v,t.position.y+=t.speed.y*v,t.speed.x*=.9,t.speed.y*=.9,t.controller.move.x>0?t.direction=1:t.controller.move.x<0&&(t.direction=-1),e&&(t.animationTime+=v,t.sprite.image=ut(e,t.animationTime),t.sprite.flipX=t.direction<0,t.shadow.image=ht(t.sprite.image,1426063360),t.shadow.flipX=t.sprite.flipX),t.damage=0,t.frame!=t.sprite.image&&(t.frame=t.sprite.image,t.damage=o.damages[t.frame]||0)},de=()=>{for(let t of d){if(t.health<=0||!t.damage)continue;let e=null,o=99999;for(let n of d)if(!(n.health<=0)&&t.config.mob!=n.config.mob&&(n.position.x-t.position.x)*t.direction>0){let a=g.distance(t.position,n.position);a<30&&(!e||o>a)&&(e=n,o=a)}e&&(e.health-=t.damage,e.speed.x+=t.direction*t.damage/100*300,t.speed.x+=t.direction*10,t.damage>=20?yt(oe,g.add(e.position,{x:0,y:-16})):Gt(.5)?yt(ae,g.add(e.position,{x:0,y:-16})):yt(ne,g.add(e.position,{x:0,y:-16})),e.health>0?(e.state=5,e.animation!=e.config.animations.knockdown&&(e.animationTime=0),e.animation=Rt([e.config.animations.damage1,e.config.animations.damage2,e.config.animations.knockdown])):(e.state=6,e.animation=Rt([e.config.animations.dead1,e.config.animations.dead2]),e.animationTime=0),console.log("apply damage",t.damage,"health",e.health))}},xe=()=>{for(let t of d.values())bo(t)},bo=t=>{let e=t.config;t.sprite.x=t.position.x-e.offset.x,t.sprite.y=t.position.y-e.offset.y;let o=f[t.shadow.image];t.shadow.scaleY=.4,t.shadow.x=t.position.x-e.offset.x+0,t.shadow.y=t.position.y-e.offset.y*t.shadow.scaleY},me=t=>{t.controller.leg&&(t.state=4,t.animationTime=0),t.controller.hand&&(t.state=2,t.animationTime=0),t.controller.cross&&(t.state=3,t.animationTime=0)};var rn=()=>{let t=[];return t[33]=46,t[35]=0,t[46]=47,t[47]=-1,t.push(10,11,12,13,14,15,16,17,18,19),t[64]=0,t.push(20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45),t},Ht=rn(),ge=t=>{if(!1)throw`symbol not found ${t} char ${String.fromCharCode(t)}`;return Ht[t]};var u=document.getElementById("c");u.style.imageRendering="pixelated";var h=_(u),k=200,M=200,q={x:0,y:0},he=()=>{let t=window.innerWidth,e=window.innerHeight,o=vt(t/k,e/M);u.width=ft(k,t/o),u.height=ft(M,e/o),u.style.width=`${t}px`,u.style.height=`${e}px`,q.x=St((u.width-k)/2),q.y=St((u.height-M)/2)},ue=()=>{h.clearRect(0,0,u.width,u.height),h.setTransform(1,0,0,1,q.x,q.y);let t=W();h.save(),h.translate(D(-t.camera.x),D(-t.camera.y)),bt(t.back),d.sort((e,o)=>e.position.y-o.position.y);for(let e of d)bt(e.shadow);for(let e of d)bt(e.sprite);for(let e of Q)bt(e.sprite);h.restore(),h.fillStyle="black",u.width<u.height?(h.fillRect(0,-q.y,k,q.y),h.fillRect(0,M,k,M)):(h.fillRect(-q.x,0,q.x,k),h.fillRect(k,0,k,M)),sn()},bt=t=>{h.save();let e=f[t.image],o=1,n=0,r=0,a=t.scaleY||1,i=D(t.x||0),c=D(t.y||0);t.flipX&&(o=-1,i+=e.width),h.transform(o,n,r,a,i,c),F(h,e,0,0),h.restore()},sn=()=>{if(!1){let t=(it()-ct).toFixed(),e=(1/v).toFixed();cn(3,3,`FPS ${e} TIME ${t}`,2583691263)}},cn=(t,e,o,n)=>{for(let r=0;r<o.length;r++){let a=o[r].toUpperCase().charCodeAt(0),i=ge(a);if(i!==void 0){let c=ht(i,n),s=f[c];s!==void 0&&F(h,s,t+r*8,e)}}};var ye=(...t)=>{let e=N.createBufferSource(),o=N.createBuffer(t.length,t[0].length,S);return t.map((n,r)=>o.getChannelData(r).set(n)),e.buffer=o,e.connect(N.destination),e.start(),e},mn=(t=1,e=.05,o=220,n=0,r=0,a=.1,i=0,c=1,s=0,m=0,l=0,T=0,x=0,R=0,E=0,z=0,y=0,O=1,U=0,tt=0)=>{let w=2*Math.PI,et=s*=500*w/S**2,ot=(0<E?1:-1)*w/4,K=o*=(1+2*e*Math.random()-e)*w/S,V=[],C=0,nt=0,p=0,A=1,kt=0,eo=0,G=0,at,Y;for(n=99+S*n,U*=S,r*=S,a*=S,y*=S,m*=500*w/S**3,E*=w/S,l*=w/S,T*=S,x=S*x|0,Y=n+U+r+a+y|0;p<Y;V[p++]=G)++eo%(100*z|0)||(G=i?1<i?2<i?3<i?Math.sin((C%w)**3):Math.max(Math.min(Math.tan(C),1),-1):1-(2*C/w%2+2)%2:1-4*Math.abs(Math.round(C/w)-C/w):Math.sin(C),G=(x?1-tt+tt*Math.sin(2*Math.PI*p/x):1)*(0<G?1:-1)*Math.abs(G)**c*t*fn*(p<n?p/n:p<n+U?1-(p-n)/U*(1-O):p<n+U+r?O:p<Y-y?(Y-p-y)/a*O:0),G=y?G/2+(y>p?0:(p<Y-y?1:(Y-p)/y)*V[p-y|0]/2):G),at=(o+=s+=m)*Math.sin(nt*E-ot),C+=at-at*R*(1-1e9*(Math.sin(p)+1)%2),nt+=at-at*R*(1-1e9*(Math.sin(p)**2+1)%2),A&&++A>T&&(o+=l,K+=l,A=0),!x||++kt%x||(o=K,s=et,A=A||1);return V},fn=.3,S=44100,N=new(window.AudioContext||webkitAudioContext),we=(t,e,o,n=125)=>{let r,a,i,c,s,m,l,T,x,R,E,z,y,O,U=0,tt,w=[],et=[],ot=[],K=0,V=0,C=1,nt={},p=44100/n*60>>2;for(;C;K++)w=[C=T=E=y=0],o.map((A,kt)=>{for(l=e[A][K]||[0,0,0],C|=!!e[A][K],tt=y+(e[A][0].length-2-!T)*p,O=kt==o.length-1,a=2,c=y;a<l.length+O;T=++a){for(s=l[a],x=a==l.length+O-1&&O||R!=(l[0]||0)|s|0,i=0;i<p&&T;i++>p-99&&x?z+=(z<1)/99:0)m=(1-z)*w[U++]/2||0,et[c]=(et[c]||0)-m*V+m,ot[c]=(ot[c++]||0)+m*V+m;s&&(z=s%1,V=l[1]||0,(s|=0)&&(w=nt[[R=l[U=0]||0,s]]=nt[[R,s]]||(r=[...t[R]],r[2]=(r[2]||220)*2**((s-12)/12),s>0?mn(...r):[])))}y=tt});return[et,ot]};var _t=(t=!1)=>{(t||N.state==="suspended")&&N.resume().catch()},be=async t=>{let e=await ln(t),o=ye(...e);o.loop=!0,N.resume()},ln=async t=>(await jt(50),we(...t));var zt={},_e=!1,ke=()=>{pt.onkeydown=t=>{_t(),_e=!0,zt[t.keyCode]=!0,t.preventDefault()},pt.onkeyup=t=>{_e=!1,pn(t.keyCode),t.preventDefault()},u.onmousedown=()=>{_t()},u.ontouchstart=()=>{_t()}},I=t=>zt[t],pn=t=>delete zt[t];var yn={mob:!1,health:1e3,walkSpeed:30,offset:{x:16,y:29},animations:{stand:[{image:57,time:.2},{image:58,time:.2},{image:59,time:.2},{image:58,time:.2},{image:57,time:.2},{image:60,time:.2}],walkH:[{image:57,time:.1},{image:61,time:.1},{image:62,time:.1},{image:61,time:.1}],walkV:[{image:68,time:.1},{image:69,time:.1},{image:68,time:.1},{image:70,time:.1}],jab:[{image:57,time:.05},{image:65,time:.1}],cross:[{image:65,time:.1},{image:66,time:.1},{image:67,time:.1},{image:66,time:.1}],kick:[{image:57,time:.05},{image:63,time:.05},{image:64,time:.1},{image:63,time:.1}],damage1:[{image:57,time:1}],damage2:[{image:57,time:1}],knockdown:[{image:57,time:1}],dead1:[{image:57,time:1}],dead2:[{image:57,time:1}]},damages:{65:10,67:20,64:30}},b,Ee=()=>{b=wt(yn)},Z=()=>b,Pe=()=>{b&&(b.health<=0||(b.controller.move.x=0,b.controller.move.y=0,b.controller.leg=!1,b.controller.hand=!1,(I(37)||I(65))&&(b.controller.move.x=-1),(I(39)||I(68))&&(b.controller.move.x=1),(I(38)||I(87))&&(b.controller.move.y=-1),(I(40)||I(83))&&(b.controller.move.y=1),I(90)&&(b.controller.leg=!0),I(88)&&(b.controller.hand=!0)))};var Za=1*(Math.exp(.5)-1);var He,ze=[];qt||wn();function wn(){He||(He=new AudioContext,!1)}async function Ae(){let e=await(await fetch("r")).arrayBuffer(),o=new Uint8Array(e),n=0,r=o[n++]*4,a=o.slice(n,n+r);n+=r;let i=o[n++];for(;i--;){let s=o[n++],m=o[n++],l=s*m,T=o.slice(n,n+l);n+=l;let x=Nt();$t(x,s),Lt(x,m);let R=x.getImageData(0,0,s,m);for(let E=0;E<T.length;E++){let z=T[E]<<2;R.data.set(a.slice(z,z+4),E<<2)}x.putImageData(R,0,0),f.push(dt(x))}let c=o[n++];for(;c--;){let s=o[n++];ze.push(e.slice(n,n+s)),n+=s}}var De=[[[.6,0,100,,,.2,1,.5,,-10,,,,3,,,,10],[.7,0,110,,,.2,2,.1,,,,,,,,,,,.1,.4],[1.3,0,300,,,0,4,3,,,300,,,1,,,,.3,.2],[,0,,,.13,.7,2,.2,,,,,.04,.3,,.02,1,,.3,.1],[3,0,60,,,,3,.2,,,,.5,,.6,1,.05],[,0],[,0]],[[[,-.1,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,.1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,1,1],[1,.1,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,3,,15,,3,,15,,],[3,.3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,.1,1,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,1,1],[1,.1,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,4,,16,16,4,,16,16,4,,16,,4,,16,16,4,,16,16,4,,16,16,3,,15,15,3,,15,15],[3,.4,,,,,20,,,,,,23,,,,,,25,,,,,,27,,,,,,25,,,,27,,,,,,,,,,,,,,,,28,,27,,,,25,,,,27,,,,25,,]]],[0,0,1,1],,];var L=[],En=[4278190080,4294939392,4287898002,4289362242,4284354049,4290735454,4278215936,4278217323,4278261885],Pn={mob:!0,health:100,walkSpeed:20,offset:{x:16,y:31},animations:{stand:[{image:72,time:.3},{image:73,time:.3},{image:72,time:.3},{image:74,time:.3},{image:75,time:.3},{image:74,time:.3}],walkH:[{image:72,time:.2},{image:76,time:.2},{image:72,time:.2},{image:77,time:.2}],walkV:[{image:72,time:.2},{image:81,time:.2},{image:72,time:.2},{image:82,time:.2}],jab:[{image:72,time:.2},{image:78,time:.2}],cross:[{image:78,time:.2},{image:79,time:.2},{image:80,time:.2},{image:79,time:.2}],kick:[{image:72,time:.2},{image:83,time:.2},{image:84,time:.2},{image:83,time:.2}],damage1:[{image:86,time:.5},{image:85,time:.3}],damage2:[{image:90,time:.5},{image:89,time:.3}],knockdown:[{image:85,time:.2},{image:86,time:.5},{image:87,time:1},{image:88,time:.3},{image:89,time:.2}],dead1:[{image:90,time:.2},{image:91,time:.2},{image:92,time:.2},{image:93,time:5}],dead2:[{image:85,time:.2},{image:86,time:.5},{image:87,time:1}]},damages:{78:5,80:10,84:20}},Ot=[],Le=()=>{Ot.push($e([4278190080,4294939392,4281545523,4281545523,4288256409,4294939392,4278190131,4278190131,4278190080],"bob")),Ot.push($e([4278190080,4294939392,4285642965,4294939392,4294939392,4278190080,4286151563,4286151563,4278190080],"jack"))},$e=(t,e)=>{let o=Vt(Pn);o.walkSpeed=Tt(10,20);let n=o.animations;for(let r in n){let a=n[r];Hn(a,En,t,e)}return o},Hn=(t,e,o,n)=>{for(let r of t)r.image=zn(r.image,e,o,n)},Wt={},zn=(t,e,o,n)=>{let r=`${t}_${n}`;if(!Wt[r]){let a=gt(f[t]);te(a,e,o),Wt[r]=st(a)}return Wt[r]},Ve=t=>{let e=wt(Ot[t]);return L.push(e),e};var An=t=>{let e=L.indexOf(t);e!=-1&&L.splice(e,1)},je=()=>{let t=Z();for(let e of L)Dn(e,t)},Dn=(t,e)=>{if(t.health<=0)return;d.indexOf(t)==-1&&An(t),t.controller.move.x=0,t.controller.move.y=0,t.controller.leg=!1,t.controller.hand=!1,t.controller.cross=!1;let o=15;if(t.state==0||t.state==1){let n=g.subtract(e.position,t.position);if(g.length(n)>o)g.normalize(n),t.controller.move.x=n.x,t.controller.move.y=n.y;else{t.controller.move.x=0,t.controller.move.y=0;let a=B();a<.5?t.controller.hand=!0:a<.8?t.controller.cross=!0:t.controller.leg=!0}}},Xe=()=>{for(let e=0;e<L.length;e++){let o=L[e];if(!(o.health<=0))for(let n=e+1;n<L.length;n++){let r=L[n];if(r.health<=0)continue;let a=g.subtract(o.position,r.position);a.x==0&&a.y==0&&(a.x=1);let i=g.length(a);if(i<10){let c=(10-i)/i,s=g.scale(a,c);o.position.x+=s.x,o.position.y+=s.y,r.position.x-=s.x,r.position.y-=s.y}}}};var Ye=()=>{let n=$n(400,150),r=Ln(400,95),a=j(),i=_(a);a.width=400,a.height=245,F(i,r,0,0),F(i,n,0,95);let c=st(a),s=10,m=5;return{bounds:{x:s,y:95+m,w:400-s*2,h:150-m*2},back:{image:c},camera:{x:0,y:0}}},$n=(t,e)=>{let o=Jt(t,e,[0,1,2,3],[3,2,1,1]),n=_(o),r=30;return n.fillStyle="black",n.fillRect(0,0,o.width,1),xt(n,0,0,o.width,r,1996488704,0),xt(n,0,o.height-r,o.width,r,0,1996488704),Je(10,o),o},Ln=(t,e)=>{let o=Qt(t,e,4),n=_(o),r=[5,6,7],a=[2,1,1],i=50;for(let s=0;s<t;s+=i)for(let m=0;m<t;m+=16){let l=f[lt(r,a)];F(n,l,s,m)}Zt([8,i-13,0,8,i*3-13,0,8,i*6-13,0,9,i*2-17,0,9,i*5-30,0],n);let c=40;return xt(n,0,o.height-c,o.width,c,0,1996488704),Je(10,o),o},Je=(t,e)=>{let o=_(e),n=t/2,r=o.getImageData(0,0,e.width,e.height),a=r.data,i=0;for(;i<a.length;){let c=a[i],s=a[i+1],m=a[i+2];a[i]=c-n+t*B(),a[i+1]=s-n+t*B(),a[i+2]=m-n+t*B(),i+=4}o.putImageData(r,0,0)};var Qe=()=>{se(Ye()),fe(),Ee();let t=W(),e=Ve(0);e.position.x=t.bounds.x+100,e.position.y=t.bounds.y+t.bounds.h/2;let o=Z();o.position.x=t.bounds.x+50,o.position.y=t.bounds.y+t.bounds.h/2};var Ze=()=>{let t=W(),e=Z();t.camera.x=e.position.x-k/2,t.camera.y=e.position.y-M/2};!1;var to=()=>{ee(),he(),Pe(),je(),Xe(),pe(),de(),le(),re(),Ze(),ce(),xe(),ue(),requestAnimationFrame(to)};async function Vn(){await Ae(),be(De),ke(),Le(),Qe(),to()}Vn();})();
//# sourceMappingURL=s.js.map
